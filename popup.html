<!DOCTYPE html>
<!--
This page is shown when the extension button is clicked, because the
"browser_action" field in manifest.json contains the "default_popup" key with
value "popup.html".
 -->
<html>
<head>
    <title>NIMA - Nimiq Wallet Manager</title>
    <link rel="stylesheet" href="vendor/source-sans-pro/source-sans-pro.css">
    <link rel="stylesheet" href="vendor/fira/fira.css">
    <link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <header>
        <div id="statusWrapper">
            <div id="statusIndicator" class="red"></div>
            <div id="statusPopup">
                <div class="equalize-row"><label>Status</label> <span id="status"></span></div>
                <div class="equalize-row"><label>Height</label> <span id="height"></span></div>
                <div class="equalize-row"><label>Peers</label> <span id="peers"></span></div>
            </div>
        </div>
        <h1>
            NIMA <span>Nimiq Wallet Manager</span> <span style="color: red; opacity: 1;">BETA</span>
        </h1>
        <nav>
            <!-- <button id="buttonShowContacts" title="Contacts (coming soon)" class="fa fa-address-card" disabled></button> -->
            <button id="buttonShowMyWallets" title="My Wallets" class="fa fa-th-large"></button>
            <!-- <button id="buttonShowNotifications" title="Notifications (coming soon)" class="fa fa-exclamation-circle" disabled></button> -->
        </nav>
    </header>

    <section id="sectionActiveWallet">
        <div id="activeWalletIdenticon" class="wallet-identicon"><!-- DO NOT REMOVE: this comment is the required childNode that gets replaced by the identicon --></div>
        <span id="activeWalletName" class="wallet-name"></span>&nbsp; <!-- these &nbsp; are here to guard the name and the balance against accidential selection when double-clicking the hash -->
        <hash id="activeWalletAddress" class="wallet-address"></hash>&nbsp;
        <i id="buttonActiveWalletCopyAddress" class="fa fa-copy wallet-copy-address" title="Copy address"></i>
        <span id="activeWalletBalance" class="wallet-balance icon-nimiq"></span>
        <div id="activeWalletActions">
            <button id="buttonToggleMining" title="Toggle mining" data-hashrate="0">Miner <i class="fa fa-power-off"></i></button>
            <button id="buttonNewTx" style="float: right">Send</button>
            <!-- <button id="buttonNewTx" class="button-group-right" style="float: right">Send</button> -->
            <!-- <button id="buttonCreateCashlink" class="button-group-left" style="float: right" disabled title="(coming soon)">Cashlink</button> -->
        </div>
    </section>
    <hr>
    <section id="sectionHistory">
        <h2 style="margin-bottom: 0.5em;">History</h2>
        <div id="history-wrapper">
            <div id="pending-history-list"></div>
            <div id="history-list">
            </div>
        </div>
    </section>
    <span id="version"></span>

    <section id="new-tx">
        <button id="button-close-new-tx" class="close">&times;</button>

        <h2>New Transaction</h2>
        <input type="text" id="input-tx-receiver" class="input-large" placeholder="Receiver Account Number">
        <input type="number" id="input-tx-value" class="input-large" placeholder="0.00" min="0"><br>
        <!-- <input type="text" id="input-tx-message" class="input-large" placeholder="Add a note"><br> -->
        <br>
        <button id="button-send-tx" class="button-large">Send</button>
    </section>

    <section id="wallet-management">
        <button id="button-close-my-wallets" class="close">&times;</button>

        <h2>My wallets</h2>
        <div id="wallet-list"></div>
        <button id="button-show-import-wallets" class="button-large">+ Add Wallet</button>
    </section>

    <section id="wallet-import">
        <button id="button-close-import-wallets" class="close">&times;</button>

        <h2>Import Wallet</h2>
        <input type="text" id="input-privKey" class="input-large" placeholder="Private key">
        <button id="button-import-privKey" class="button-large">Import Private Key</button><br>
        <small>To extract your private key from a Nimiq-enabled website, run this in the javascript console (F12):</small>
        <pre style="display: inline; padding: 0.2em 0.5em; background: #DDD; border: 1px solid #888; border-radius: 4px;">$.wallet.dump()</pre>
        <br>
        <hr>
        <br>
        <button id="button-import-betanet" class="button-large">Import from Testnet</button><br>
        <br>
        <hr>
        <br>
        <button id="button-create-new-wallet" class="button-large">Create new Address</button>
    </section>

    <section id="loading-screen">
        <!-- <header>
            <h1>
                NIMA <span>Nimiq Wallet Manager</span> <span style="color: red; opacity: 1;">BETA</span>
            </h1>
        </header> -->
        <div id="loading-loader">
            <img src="icon-standalone.svg">
        </div>
        <div id="loading-progress-container">
            <div id="loading-progress-bar"></div>
        </div>
        <div id="loading-text"><span id="loading-height">Connecting...</span><span id="loading-targetHeight"></span></div>
    </section>

    <div id="toast"><span id="toast-msg"></span></div>

    <script src="vendor/blockies.js"></script>
    <script src="popup.js"></script>
</body>
</html>
